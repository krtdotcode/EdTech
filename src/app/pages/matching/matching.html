<!-- Main Container -->
<div class="h-auto bg-gray-50">
  <!-- Header -->
  <div class="bg-white shadow-sm border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-3xl font-bold text-gray-900">Find Your Mentor</h1>
          <p class="text-gray-600 mt-1">Discover experienced professionals to guide your career growth</p>
        </div>
        <button
          (click)="clearFilters()"
          class="px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors"
        >
          üîÑ Clear Filters
        </button>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

    <!-- Search & Filters Section -->
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8">
      <div class="grid grid-cols-1 lg:grid-cols-4 gap-4">

        <!-- Search Input -->
        <div class="lg:col-span-1">
          <label class="block text-sm font-medium text-gray-700 mb-2">Search</label>
          <input
            type="text"
            [(ngModel)]="searchTerm"
            placeholder="Name, bio, skills..."
            (input)="applyFilters()"
            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
          />
        </div>

        <!-- Skill Filter -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Skill Focus</label>
          <select
            [(ngModel)]="selectedSkill"
            (change)="applyFilters()"
            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <option value="">All Skills</option>
            <option *ngFor="let skill of uniqueSkills" [value]="skill">{{ skill }}</option>
          </select>
        </div>

        <!-- Industry Filter -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Industry</label>
          <select
            [(ngModel)]="selectedIndustry"
            (change)="applyFilters()"
            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <option value="">All Industries</option>
            <option *ngFor="let industry of uniqueIndustries" [value]="industry">{{ industry }}</option>
          </select>
        </div>

        <!-- Location Filter -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>
          <select
            [(ngModel)]="selectedLocation"
            (change)="applyFilters()"
            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <option value="">All Locations</option>
            <option *ngFor="let location of uniqueLocations" [value]="location">{{ location }}</option>
          </select>
        </div>

      </div>

      <!-- Additional Filters Row -->
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4">

        <!-- Career Goal Filter -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Career Goal</label>
          <select
            [(ngModel)]="selectedGoal"
            (change)="applyFilters()"
            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <option value="">All Goals</option>
            <option *ngFor="let goal of uniqueGoals" [value]="goal">{{ goal }}</option>
          </select>
        </div>

        <!-- Availability Filter -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Availability</label>
          <select
            [(ngModel)]="selectedAvailability"
            (change)="applyFilters()"
            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <option value="">All Schedules</option>
            <option *ngFor="let availability of uniqueAvailabilities" [value]="availability">{{ availability }}</option>
          </select>
        </div>

        <!-- Rating Filter -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Min Rating</label>
          <select
            [(ngModel)]="minRating"
            (change)="applyFilters()"
            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <option [value]="null">Any Rating</option>
            <option [value]="1">1+ Stars</option>
            <option [value]="2">2+ Stars</option>
            <option [value]="3">3+ Stars</option>
            <option [value]="4">4+ Stars</option>
            <option [value]="5">5 Stars</option>
          </select>
        </div>

      </div>

      <!-- Active Filters Display -->
      <div *ngIf="getActiveFiltersCount() > 0" class="mt-4 pt-4 border-t border-gray-200">
        <div class="flex flex-wrap gap-2">
          <span class="text-sm font-medium text-gray-600">Active filters:</span>
          <span *ngIf="searchTerm" class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
            Search: "{{searchTerm}}"
          </span>
          <span *ngIf="selectedSkill" class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
            Skill: {{selectedSkill}}
          </span>
          <span *ngIf="selectedIndustry" class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
            Industry: {{selectedIndustry}}
          </span>
          <span *ngIf="selectedLocation" class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
            Location: {{selectedLocation}}
          </span>
          <span *ngIf="selectedGoal" class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-800">
            Goal: {{selectedGoal}}
          </span>
          <span *ngIf="selectedAvailability" class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800">
            Availability: {{selectedAvailability}}
          </span>
          <span *ngIf="minRating" class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
            Rating: {{minRating}}+
          </span>
        </div>
      </div>
    </div>

    <!-- Results Summary -->
    <div class="mb-6">
      <div class="flex items-center justify-between">
        <div class="text-sm text-gray-600">
          Showing {{ filteredMentors.length }} of {{ allMentors.length }} mentors
        </div>
      </div>
    </div>

    <!-- Recommended Mentors (if any) -->
    <div *ngIf="recommendedMentors.length > 0" class="mb-12">
      <h2 class="text-2xl font-bold text-gray-900 mb-6">üéØ Recommended for You</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div
          *ngFor="let mentor of recommendedMentors"
          class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow"
        >
          <div class="flex items-start justify-between mb-4">
            <div class="flex-1">
              <h3 class="text-lg font-semibold text-gray-900">{{ mentor.name }}</h3>
              <p class="text-sm text-gray-600">{{ mentor.location }}</p>
            </div>
            <div class="flex items-center">
              <span class="text-yellow-400">‚≠ê</span>
              <span class="ml-1 text-sm font-medium text-gray-900">{{ mentor.ratings }}/5</span>
            </div>
          </div>

          <p class="text-gray-700 text-sm mb-4 line-clamp-3">{{ mentor.bio }}</p>

          <div class="space-y-2 mb-4">
            <div class="flex flex-wrap gap-1">
              <span class="text-xs font-medium text-gray-600">Skills:</span>
              <span *ngFor="let skill of mentor.skills.slice(0,3)" class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                {{ skill }}
              </span>
            </div>

            <div class="flex flex-wrap gap-1">
              <span class="text-xs font-medium text-gray-600">Goals:</span>
              <span *ngFor="let goal of mentor.goals.slice(0,2)" class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                {{ goal }}
              </span>
            </div>
          </div>

          <button
            (click)="sendRequest(mentor.id)"
            class="w-full px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors"
          >
            Send Mentorship Request
          </button>
        </div>
      </div>
    </div>

    <!-- All Mentors Section -->
    <div>
      <h2 class="text-2xl font-bold text-gray-900 mb-6">All Available Mentors</h2>

      <!-- No results state -->
      <div *ngIf="filteredMentors.length === 0 && allMentors.length > 0" class="text-center py-12">
        <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <span class="text-2xl">üîç</span>
        </div>
        <h3 class="text-lg font-medium text-gray-900 mb-2">No mentors match your criteria</h3>
        <p class="text-gray-600 mb-4">Try adjusting your search filters or clearing them to see more options.</p>
        <button
          (click)="clearFilters()"
          class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          Clear All Filters
        </button>
      </div>

      <!-- Loading state -->
      <div *ngIf="allMentors.length === 0" class="text-center py-12">
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"></div>
        <p class="text-gray-600">Loading mentors...</p>
      </div>

      <!-- Mentors grid -->
      <div *ngIf="filteredMentors.length > 0" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div
          *ngFor="let mentor of filteredMentors"
          class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md hover:border-gray-300 transition-all"
        >
          <div class="flex items-start justify-between mb-4">
            <div class="flex-1">
              <h3 class="text-lg font-semibold text-gray-900">{{ mentor.name }}</h3>
              <p class="text-sm text-gray-600">{{ mentor.location }}</p>
            </div>
            <div class="flex items-center">
              <span class="text-yellow-400">‚≠ê</span>
              <span class="ml-1 text-sm font-medium text-gray-900">{{ mentor.ratings }}/5</span>
            </div>
          </div>

          <p class="text-gray-700 text-sm mb-4 line-clamp-3">{{ mentor.bio }}</p>

          <div class="space-y-2 mb-4">
            <div class="flex flex-wrap gap-1">
              <span class="text-xs font-medium text-gray-600">Skills:</span>
              <span *ngFor="let skill of mentor.skills.slice(0,3)" class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                {{ skill }}
              </span>
            </div>

            <div class="flex flex-wrap gap-1">
              <span class="text-xs font-medium text-gray-600">Goals:</span>
              <span *ngFor="let goal of mentor.goals.slice(0,2)" class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                {{ goal }}
              </span>
            </div>

            <div class="text-xs text-gray-600">
              Available: {{ mentor.availability.join(', ') }}
            </div>
          </div>

          <button
            (click)="sendRequest(mentor.id)"
            class="w-full px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors"
          >
            Send Mentorship Request
          </button>
        </div>
      </div>
    </div>

  </div>
</div>
